{"posts":[{"title":"MySQL自带的性能压力测试工具mysqlslap","content":"--only-print 只打印测试语句而不实际执行。 --detach=N 执行N条语句后断开重连。 # 单线程测试。测试做了什么。 mysqlslap -a -uroot -p123456 # 多线程测试。使用–concurrency来模拟并发连接。 mysqlslap -a -c 100 -uroot -p123456 # 迭代测试。用于需要多次执行测试得到平均值。 mysqlslap -a -i 10 -uroot -p123456 mysqlslap --auto-generate-sql-add-autoincrement -a -uroot -p123456 mysqlslap -a --auto-generate-sql-load-type=mixed -uroot -p123456 mysqlslap -a --auto-generate-sql-secondary-indexes=3 -uroot -p123456 mysqlslap -a --auto-generate-sql-write-number=1000 -uroot -p123456 mysqlslap --create-schema world -q &quot;select count(*) from City&quot; -uroot -p123456 mysqlslap -a -e innodb -uroot -p123456 mysqlslap -a --number-of-queries=10 -uroot -p123456 # 测试同时不同的存储引擎的性能进行对比： mysqlslap -a --concurrency=50,100 --number-of-queries 1000 --iterations=5 --engine=myisam,innodb --debug-info -uroot -p123456 # 500和1000个并发分别得到一次测试结果(Benchmark)，并发数越多，执行完所有查询的时间越长。为了准确起见，可以多测试几次: mysqlslap -a --concurrency=500,1000 --auto-generate-sql-add-autoincrement --auto-generate-sql-secondary-indexes=10 --number-of-queries 2000 --iterations=5 Benchmark Average number of seconds to run all queries: 1.551 seconds Minimum number of seconds to run all queries: 1.441 seconds Maximum number of seconds to run all queries: 1.716 seconds Number of clients running queries: 500 Average number of queries per client: 4 Benchmark Average number of seconds to run all queries: 1.734 seconds Minimum number of seconds to run all queries: 1.589 seconds Maximum number of seconds to run all queries: 1.911 seconds Number of clients running queries: 1000 Average number of queries per client: 2 ","link":"https://hkxtor.github.io/DQakzE_dy/"}]}